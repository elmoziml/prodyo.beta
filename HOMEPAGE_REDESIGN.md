# تعديل تصميم الصفحة الرئيسية

## نظرة عامة
تم تعديل الصفحة الرئيسية لعرض الفئات كأقسام منفصلة، حيث يتم عرض كل فئة مع منتجاتها الخاصة.

## التغييرات المنفذة

### 1. تعديل API الـ Storefront
**الملف:** `src/app/api/storefront/route.ts`

- تم تعديل الـ API لإرجاع الفئات مع منتجاتها المفلترة
- يتم فقط إرجاع الفئات التي تحتوي على منتجات (فلترة الفئات الفارغة)
- البنية الجديدة:
  ```typescript
  {
    categoriesWithProducts: [
      {
        id: string,
        name: string,
        description: string,
        products: Product[]
      }
    ]
  }
  ```

### 2. إضافة Type جديد
**الملف:** `src/types/index.ts`

تم إضافة interface جديد:
```typescript
export interface CategoryWithProducts extends Category {
  products: Product[];
}
```

### 3. إنشاء مكون CategorySection
**الملف:** `src/components/public/storefront/CategorySection.tsx`

مكون جديد لعرض فئة واحدة مع منتجاتها:
- عرض اسم الفئة كعنوان رئيسي
- عرض وصف الفئة (إذا كان موجوداً)
- عرض حتى 8 منتجات من الفئة في شبكة
- زر "عرض الكل" للانتقال إلى صفحة الفئة الكاملة
- تصميم متجاوب يعمل على جميع الأحجام

### 4. تعديل الصفحة الرئيسية
**الملف:** `src/app/[locale]/(public)/page.tsx`

- إزالة المكونات القديمة: `CategoryShowcase` و `FeaturedProducts`
- استخدام المكون الجديد `CategorySection`
- عرض كل فئة في قسم منفصل
- إضافة فواصل بصرية بين الأقسام
- رسالة تظهر إذا لم توجد منتجات

## المزايا

### 1. تنظيم أفضل
- كل فئة لها قسم خاص بها
- سهولة التصفح والعثور على المنتجات

### 2. أداء محسّن
- يتم جلب البيانات مرة واحدة فقط
- لا حاجة لطلبات API إضافية

### 3. تجربة مستخدم محسّنة
- عرض واضح للفئات والمنتجات
- إمكانية الانتقال السريع لصفحة الفئة الكاملة
- تصميم متجاوب يعمل على الهاتف والكمبيوتر

### 4. فلترة ذكية
- يتم عرض الفئات التي تحتوي على منتجات فقط
- لا يتم عرض فئات فارغة للمستخدم

## البنية الحالية

```
الصفحة الرئيسية
├── Hero (قسم البطل)
└── أقسام الفئات
    ├── فئة 1: ملابس صيفية
    │   ├── العنوان والوصف
    │   └── شبكة المنتجات (حتى 8 منتجات)
    ├── فئة 2: ...
    └── فئة N: ...
```

## مثال على الاستخدام

### الصفحة الرئيسية الحالية تعرض:
1. **قسم Hero** - الترحيب والعرض الرئيسي
2. **قسم "ملابس صيفية"** - يحتوي على منتجين:
   - dfg (1234 دج)
   - قميص كلاسيكي (2300 دج)

## الملفات المتأثرة

### ملفات جديدة:
- `src/components/public/storefront/CategorySection.tsx`

### ملفات معدلة:
- `src/app/api/storefront/route.ts`
- `src/types/index.ts`
- `src/app/[locale]/(public)/page.tsx`

### ملفات قديمة (لم تعد مستخدمة في الصفحة الرئيسية):
- `src/components/public/storefront/CategoryShowcase.tsx`
- `src/components/public/storefront/FeaturedProducts.tsx`

> **ملاحظة:** الملفات القديمة لم يتم حذفها في حال كانت مستخدمة في أماكن أخرى من التطبيق.

## التوافق

- ✅ متوافق مع Next.js 15
- ✅ يدعم الوضع الداكن (Dark Mode)
- ✅ متجاوب مع جميع أحجام الشاشات
- ✅ يدعم تعدد اللغات (i18n)
- ✅ يعمل مع TypeScript

## الخطوات التالية المقترحة

1. **إضافة Pagination** - إذا كانت الفئة تحتوي على أكثر من 8 منتجات
2. **إضافة Lazy Loading** - لتحسين الأداء عند وجود فئات كثيرة
3. **إضافة فلاتر** - للسماح بفلترة المنتجات داخل كل فئة
4. **إضافة Skeleton Loading** - لتحسين تجربة المستخدم أثناء التحميل
5. **إضافة صفحة الفئة** - صفحة مخصصة لكل فئة تعرض جميع منتجاتها
